<body>
  <div class="navbar">
    <a routerLink="/home">Home</a>
    <div class="dropdown">
      <button class="dropbtn">Learn
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a routerLink="/LearnMCA">Multiple Choice</a>
        <a routerLink="/LearnSCA">Single Choice</a>
        <a routerLink="/LearnFIA">Fill In</a>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Check
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a routerLink="/CMC">Multiple Choice</a>
        <a routerLink="/CSC">Single Choice</a>
        <a routerLink="/CFI">Fill In</a>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Exam
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
        <a routerLink="/EMC">Multiple Choice</a>
        <a routerLink="/ESC">Single Choice</a>
        <a routerLink="/EFI">Fill In</a>
      </div>
    </div>
  </div>

  <div *ngIf="!examresult">
    <div *ngIf="!gotolearnmode">
      <!-- <button type="button" class="button" (click)="firstQuery()">first</button> -->
      <button type="button" class="button" (click)="prevQuery()">prev</button>
      <button type="button" class="button" (click)="nextQuery()">next</button>
      <!-- <button type="button" class="button" (click)="lastQuery()">last</button> -->
      <button type="button" class="button" (click)="examEnd()">End Exam</button>

      <p>Question: {{ query.qid }} | Typ: {{ query.qtyp }} <br /></p>

      <div *ngFor="let qt of query.qtxt">
        <span *ngIf="qt[0] === ' '"> _ {{ qt }} <br /> </span>
        <span *ngIf="qt[0] != ' '"> {{ qt }} <br /> </span>
      </div>
      <div *ngIf="query.qtyp === 'fi'">
        <div *ngFor="let ans of query.qanswers; index as ansind">
          <span *ngIf="sa">
            <span *ngIf="queryNrAnswersShow === query.qid" class="green">
              {{ ansind + 1 }}: {{ ans.txt }}
            </span>
            <span *ngIf="queryNrAnswersShow != query.qid">
              {{ ansind + 1 }}:
              <input type="text" value="{{ ans.txt }}" />
            </span>
          </span>
          <div>
            <span *ngIf="correctInput">
              <span *ngIf="!sa">
                {{ ansind + 1 }}:
                <input type="text" #myinput (keyup)="keyinput(myinput.value)" value="{{ query.qgiventxt }}"
                  class="green" llceaeAutoFocusInput (keyup.enter)="nextQuery()" /></span>
            </span>
            <span *ngIf="!correctInput">
              <span *ngIf="!sa">
                {{ ansind + 1 }}:
                <input type="text" #myinput (keyup)="keyinput(myinput.value)" value="{{ query.qgiventxt }}"
                  llceaeAutoFocusInput (keyup.enter)="nextQuery()" /></span>
            </span>
          </div>
        </div>
      </div>
      <hr />
    </div>
    <div *ngIf="gotolearnmode">
      <h1>Please go to LEARN mode</h1>
      <h2>-- refueling some spirit ;) --</h2>
      <button class="button" routerLink="/learning">I go to Learn Mode!</button>
    </div>
  </div>

  <div *ngIf="examresult">
    <button class="button" (click)="showResultQuestions = !showResultQuestions">
      Show my Exam Questions
    </button>
    <div class="statistics">
      <h1>Your Exam Result</h1>
      Number of Questions: {{ statistic.qmaxnumber }} <br />
      <ul>
        <li>You answered: {{ statistic.qanswered }} <br /></li>
        <ul>
          <li>Correct answered: {{ statistic.qcorrect }} <br /></li>
          <li>Wrong answered: {{ statistic.qwrong }} <br /></li>
        </ul>
        <li>Not answered: {{ statistic.qnotanswered }} <br /></li>
      </ul>
    </div>

    <button class="button" routerLink="/home">Ok! Back to home!</button>


    <div *ngIf="showResultQuestions">
      <h3>Answered questions with correct/wrong answers!</h3>
      <div *ngFor="let query of ql101Fiall">
        <p>Question: {{ query.qid }} | Typ: {{ query.qtyp }} <br /></p>

        <div *ngFor="let qt of query.qtxt">
          <span *ngIf="qt[0] === ' '"> _ {{ qt }} <br /> </span>
          <span *ngIf="qt[0] != ' '"> {{ qt }} <br /> </span>
        </div>
        <div *ngIf="query.qtyp === 'fi'">
          <div *ngFor="let ans of query.qanswers; index as ansind">
            <span *ngIf="sa">
              <span *ngIf="ans.correct && ans.givenans">
                <span class="green">
                  <input type="checkbox" checked disabled />
                  {{ ansind + 1 }}: {{ ans.txt }} ++ {{ ans.correct }}:
                  {{ ans.givenans }}
                </span>
              </span>
              <span *ngIf="ans.correct && !ans.givenans">
                <span class="blue">
                  <input type="checkbox" disabled checked />
                  {{ ansind + 1 }}: {{ ans.txt }} ++ {{ ans.correct }}:
                  {{ ans.givenans }}
                </span>
              </span>

              <span *ngIf="!ans.correct && ans.givenans">
                <span class="red">
                  <input type="checkbox" disabled />
                  {{ ansind + 1 }}: {{ ans.txt }} ++ {{ ans.correct }}:
                  {{ ans.givenans }}
                </span>
              </span>

              <span *ngIf="!ans.correct && !ans.givenans">
                <input type="checkbox" disabled />
                {{ ansind + 1 }}: {{ ans.txt }} ++ {{ ans.correct }}:
                {{ ans.givenans }}
              </span>
            </span>
          </div>
        </div>
        <hr />
      </div>
    </div>
  </div>
</body>